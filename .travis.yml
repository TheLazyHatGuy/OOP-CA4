language: java
install: true

jdk:
- oraclejdk8
- oraclejdk9
- openjdk8
- openjdk9
- openjdk10
- openjdk11

before_install:
# What Gradle version is Travis trying to use
#- gradle -v
# Download desired version of Gradle
- wget https://services.gradle.org/distributions/gradle-4.10.2-bin.zip
- unzip -qq gradle-4.10.2-bin.zip
- export GRADLE_HOME=$PWD/gradle-4.10.2
- export PATH=$GRADLE_HOME/bin:$PATH
# just to test gradle version, against our provided one
- gradle -v

before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/

script:
- gradle assemble
- gradle test